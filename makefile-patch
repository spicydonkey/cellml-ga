CC=mpiicpc

PROJ_PATH=/projects/uoa00322/david.shin
CELLML_PATH=/projects/uoa00322/mike.cooling/cellml-sdk

CFLAGS=-I $(PROJ_PATH)/AdvXMLParser -I $(CELLML_PATH)/include -O
LFLAGS=-L $(PROJ_PATH)/AdvXMLParser -ladvxml -L $(CELLML_PATH)/lib -lcellml -lcis -Wl,-rpath=$(CELLML_PATH)/lib 
SOURCES=experiment.cpp GAEngine.cpp virtexp.cpp utils.cpp distributor.cpp 
INCLUDES=virtexp.h utils.h GAEngine.h cellml_observer.h distributor.h

all: experiment

experiment: $(SOURCES) $(INCLUDES)
	$(CC) $(CFLAGS) $(SOURCES) -o experiment $(LFLAGS)

clean:
	rm -f experiment *~ *.o
